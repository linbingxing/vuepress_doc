# 三色标记法详解

> 三色标记法是一种垃圾回收法，它可以让JVM不发生或仅短时间发生STW(Stop The World)，从而达到清除JVM内存垃圾的目的。JVM中的CMS、G1垃圾回收器所使用垃圾回收算法即为三色标记法。

##  算法思想

**三色标记法将对象的颜色分为了黑、灰、白，三种颜色。**

- 黑色：该对象已经被标记过了，且该对象下的属性也全部都被标记过了。（程序所需要的对象）
- 灰色：该对象已经被标记过了，但该对象下的属性没有全被标记完。（GC需要从此对象中去寻找垃圾）
- 白色：该对象没有被标记过。（对象垃圾）

![sanse-1](03.%E4%B8%89%E8%89%B2%E6%A0%87%E8%AE%B0%E7%AE%97%E6%B3%95.assets/sanse-1.gif)



[三色标记法与垃圾回收器](https://juejin.cn/post/6859931488352370702)

[三色标记与读写屏障](https://www.cnblogs.com/jmcui/p/14165601.html)

